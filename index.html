<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Degeneracy</title>
    <link rel="preconnect" href="https://fonts.gstatic.com" />
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans&display=swap"
        rel="stylesheet"
    />
</head>
<body>
    <div id="main">
        <button onclick="spaRedirect('/xdlmfao/pogu')">xdlmfao/pogu</button>
        <button onclick="spaRedirect('/neki/neki')">neki/neki</button>
        <button onclick="spaRedirect('/index.html')">index.html</button>
        <div id="main_title">
            <h1>Welcome you fucking autistic weeb.</h1>
            <button id="normal-button" onclick="onNormalButtonClick()">
                I am normal
            </button>
        </div>
    </div>
    <footer>
        <a href="https://discord.gg/emdypGmzgn" class="kek">Join discord</a>
        <a href="https://discord.gg/emdypGmzgn">Join discord</a>
    </footer>
</body>
<script>
    var Api
    (function() {
    Api = function() {}
    Api.prototype.get = function(path, callback) { return this.request('GET', path, null, callback); };
    Api.prototype.delete = function(path, callback ) { return this.request('DELETE', path, null, callback); };
    Api.prototype.post = function(path, request, callback) { return this.request('POST',path, request, callback); };
    Api.prototype.put = function(path, request, callback) { return this.request('PUT', path, request, callback); };

    Api.prototype.request = function (method, url, request = null, callback) {
        if (!method || !url) return
        var xhr = new XMLHttpRequest();
        xhr.open(method, url)
        xhr.setRequestHeader('Content-Type', 'application/json; charset=utf-8');

        xhr.onreadystatechange = function() {
            if (xhr.readyState !== 4) return

            var respCode = xhr.status;
            var respBody = xhr.responseText;

            if (xhr.getResponseHeader('Content-Type') && xhr.getResponseHeader('Content-Type').indexOf('application/json') === 0) {
                try {
                    respBody = JSON.parse(respBody);
                } catch (e) {console.error(e)}
            }
            return callback(respBody, respCode, xhr.getAllResponseHeaders())
        }

        xhr.send()
    }
})()
</script>
<script>
    var api = new Api()
    document
        .querySelector(`.kek`)
        .addEventListener("click", function (e) {
            e.preventDefault();
            window.location.replace("https://nhentai.net/random");
        });
    function onNormalButtonClick() {
        alert("No you're fucking not.");
        window.location = "https://hanime.tv";
    }
    function redirectIfNeeded() {
        if (window.location.href.includes("#")) return;
        window.location.href = window.location.href + "#/";
    }
    function doRenderingPageContentStuff() {
        const path = window.location.href
            .split("#")
            .filter((v, i, a) => i != 0)
            .join("");

        console.log(`im @ ${path}`);
    }
    function spaRedirect(path) {
        window.location.href = `${
            window.location.href.split("#")[0]
        }#${path}`;
        doRenderingPageContentStuff();
    }

    redirectIfNeeded();
    doRenderingPageContentStuff();
    api.get('https://jsonplaceholder.typicode.com/todos/1', (response) => console.log(response))
</script>

<style>
    html,
    body {
        font-family: "Noto Sans", sans-serif;
        background-color: #303030;
        color: #f5f5f5;
    }

    button {
        font-family: "Noto Sans", sans-serif;
        background-color: transparent;
        border: 2px solid white;
        color: #f5f5f5;
        padding: 20px;
        font-size: 30px;
        border-radius: 20px;
        transition: all 0.2s;
    }

    button:hover {
        background-color: white;
        color: #303030;
    }

    button:focus {
        outline: none;
    }

    #main {
        height: 900px;
        display: flex;
        align-items: center;
    }

    #main_title {
        text-align: center;
        width: 100%;
        font-size: 3rem;
    }
</style>
</html>
